(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singer"],{"20d0":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["O"])("data-v-6d5a87a0");Object(c["x"])("data-v-6d5a87a0");var a={class:"singer"};Object(c["v"])();var u=r((function(e,t,n,u,o,i){var l=Object(c["C"])("index-list"),s=Object(c["C"])("router-view"),f=Object(c["D"])("loading");return Object(c["M"])((Object(c["u"])(),Object(c["h"])("div",a,[Object(c["j"])(l,{data:o.singers,onSelect:i.selectSinger},null,8,["data","onSelect"]),Object(c["j"])(s,null,{default:r((function(e){var t=e.Component;return[Object(c["j"])(c["d"],{appear:"",name:"slide"},{default:r((function(){return[(Object(c["u"])(),Object(c["h"])(Object(c["E"])(t),{data:o.selectedSinger},null,8,["data"]))]})),_:2},1024)]})),_:1})],512)),[[f,!o.singers.length]])})),o=(n("96cf"),n("1da1")),i=n("ae58"),l=(n("b0c0"),Object(c["O"])("data-v-b4a523f0"));Object(c["x"])("data-v-b4a523f0");var s={ref:"groupRef"},f={class:"title"},b={class:"avatar"},d={class:"name"},j={class:"fixed-title"};Object(c["v"])();var O=l((function(e,t,n,r,a,u){var o=Object(c["C"])("scroll"),i=Object(c["D"])("lazy");return Object(c["u"])(),Object(c["h"])(o,{class:"index-list","probe-type":3,onScroll:r.onScroll,ref:"scrollRef"},{default:l((function(){return[Object(c["j"])("ul",s,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(n.data,(function(e){return Object(c["u"])(),Object(c["h"])("li",{key:e.title,class:"group"},[Object(c["j"])("h2",f,Object(c["G"])(e.title),1),Object(c["j"])("ul",null,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(e.list,(function(e){return Object(c["u"])(),Object(c["h"])("li",{key:e.id,class:"item",onClick:function(t){return r.onItemClick(e)}},[Object(c["M"])(Object(c["j"])("img",b,null,512),[[i,e.pic]]),Object(c["j"])("span",d,Object(c["G"])(e.name),1)],8,["onClick"])})),128))])])})),128))],512),Object(c["M"])(Object(c["j"])("div",{class:"fixed",style:r.fixedStyle},[Object(c["j"])("div",j,Object(c["G"])(r.fixedTitle),1)],4),[[c["J"],r.fixedTitle]]),Object(c["j"])("div",{class:"shortcut",onTouchstart:t[1]||(t[1]=Object(c["N"])((function(){return r.onShortcutTouchStart&&r.onShortcutTouchStart.apply(r,arguments)}),["stop","prevent"])),onTouchmove:t[2]||(t[2]=Object(c["N"])((function(){return r.onShortcutTouchMove&&r.onShortcutTouchMove.apply(r,arguments)}),["stop","prevent"])),onTouchend:t[3]||(t[3]=Object(c["N"])((function(){}),["stop","prevent"]))},[Object(c["j"])("ul",null,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(r.shortcutList,(function(e,t){return Object(c["u"])(),Object(c["h"])("li",{key:e,"data-index":t,class:["item",{current:r.currentIndex===t}]},Object(c["G"])(e),11,["data-index"])})),128))])],32)]})),_:1},8,["onScroll"])})),h=n("70d8");function v(e){var t=30,n=Object(c["z"])(null),r=Object(c["z"])([]),a=Object(c["z"])(0),u=Object(c["z"])(0),i=Object(c["z"])(0),l=Object(c["f"])((function(){if(a.value<0)return"";var t=e.data[u.value];return t?t.title:""})),s=Object(c["f"])((function(){var e=i.value,n=e>0&&e<t?e-t:0;return{transform:"translate3d(0,".concat(n,"px,0)")}}));function f(){var e=n.value.children,t=r.value,c=0;t.length=0,t.push(c);for(var a=0;a<e.length;a++)c+=e[a].clientHeight,t.push(c)}function b(e){a.value=-e.y}return Object(c["K"])((function(){return e.data}),Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["p"])();case 2:f();case 3:case"end":return e.stop()}}),e)})))),Object(c["K"])(a,(function(e){for(var t=r.value,n=0;n<t.length-1;n++){var c=t[n],a=t[n+1];e>=c&&e<=a&&(u.value=n,i.value=a-e)}})),{groupRef:n,onScroll:b,fixedTitle:l,fixedStyle:s,currentIndex:u}}n("d81d");function p(e,t){var n=18,r=Object(c["z"])(null),a=Object(c["f"])((function(){return e.data.map((function(e){return e.title}))})),u={};function o(e){var t=parseInt(e.target.dataset.index);u.y1=e.touches[0].pageY,u.anchorIndex=t,l(t)}function i(e){u.y2=e.touches[0].pageY;var t=(u.y2-u.y1)/n|0,c=u.anchorIndex+t;l(c)}function l(e){if(!isNaN(e)){e=Math.max(0,Math.min(a.value.length-1,e));var n=t.value.children[e],c=r.value.scroll;c.scrollToElement(n,0)}}return{shortcutList:a,scrollRef:r,onShortcutTouchStart:o,onShortcutTouchMove:i}}var g={name:"index-list",components:{Scroll:h["a"]},props:{data:{type:Array,default:function(){return[]}}},emits:["select"],setup:function(e,t){var n=t.emit,c=v(e),r=c.groupRef,a=c.onScroll,u=c.fixedTitle,o=c.fixedStyle,i=c.currentIndex,l=p(e,r),s=l.shortcutList,f=l.scrollRef,b=l.onShortcutTouchStart,d=l.onShortcutTouchMove;function j(e){n("select",e)}return{onItemClick:j,groupRef:r,onScroll:a,fixedTitle:u,fixedStyle:o,currentIndex:i,shortcutList:s,scrollRef:f,onShortcutTouchStart:b,onShortcutTouchMove:d}}},m=(n("d959"),n("6b0d")),S=n.n(m);const x=S()(g,[["render",O],["__scopeId","data-v-b4a523f0"]]);var y=x,T=n("335a"),w=n("aaef"),R={name:"singer",components:{IndexList:y},data:function(){return{singers:[],selectedSinger:null}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])();case 2:n=t.sent,e.singers=n.singers;case 4:case"end":return t.stop()}}),t)})))()},methods:{selectSinger:function(e){this.selectedSinger=e,this.cacheSinger(e),this.$router.push({path:"/singer/".concat(e.mid)})},cacheSinger:function(e){T["a"].session.set(w["f"],e)}}};n("c3e1");const k=S()(R,[["render",u],["__scopeId","data-v-6d5a87a0"]]);t["default"]=k},"70d8":function(e,t,n){"use strict";n("96cf");var c=n("1da1"),r=n("7a23"),a=n("bba4"),u=n("5502");t["a"]={name:"wrap-scroll",props:a["a"].props,emits:a["a"].emits,render:function(e){return Object(r["m"])(a["a"],Object(r["o"])({ref:"scrollRef"},e.$props,{onScroll:function(t){e.$emit("scroll",t)}}),{default:Object(r["L"])((function(){return[Object(r["B"])(e.$slots,"default")]}))})},setup:function(){var e=Object(r["z"])(null),t=Object(r["f"])((function(){return e.value.scroll})),n=Object(u["e"])(),a=Object(r["f"])((function(){return n.state.playlist}));return Object(r["K"])(a,Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["p"])();case 2:t.value.refresh();case 3:case"end":return e.stop()}}),e)})))),{scrollRef:e,scroll:t}}}},"834c":function(e,t,n){},ae58:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var c=n("58ff");function r(){return Object(c["a"])("/api/getSingerList")}function a(e){return Object(c["a"])("/api/getSingerDetail",{mid:e.mid})}},c3e1:function(e,t,n){"use strict";n("eee1")},d959:function(e,t,n){"use strict";n("834c")},eee1:function(e,t,n){}}]);