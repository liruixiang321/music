(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"4ce3":function(e,t,c){},"4e22":function(e,t,c){"use strict";c.r(t);var r=c("b98a"),n=c("bba4"),a=c("9caa"),o=c("0921"),l=c("0ff1"),s=c("7a23"),u=Object(s["withScopeId"])("data-v-1d8e7356");Object(s["pushScopeId"])("data-v-1d8e7356");var i={class:"search"},d={class:"search-input-wrapper"},f={class:"hot-keys"},b=Object(s["createVNode"])("h1",{class:"title"},"热门搜索",-1),j={class:"search-history"},O={class:"title"},h=Object(s["createVNode"])("span",{class:"text"},"搜索历史",-1),p=Object(s["createVNode"])("i",{class:"icon-clear"},null,-1),v={class:"search-result"};Object(s["popScopeId"])();var S=u((function(e,t,c,S,m,w){var y=l["a"],g=o["a"],k=a["a"],V=n["a"],N=r["a"],C=Object(s["resolveComponent"])("router-view");return Object(s["openBlock"])(),Object(s["createBlock"])("div",i,[Object(s["createVNode"])("div",d,[Object(s["createVNode"])(y,{modelValue:S.query,"onUpdate:modelValue":t[1]||(t[1]=function(e){return S.query=e})},null,8,["modelValue"])]),Object(s["withDirectives"])(Object(s["createVNode"])(V,{ref:"scrollRef",class:"search-content"},{default:u((function(){return[Object(s["createVNode"])("div",null,[Object(s["createVNode"])("div",f,[b,Object(s["createVNode"])("ul",null,[(Object(s["openBlock"])(!0),Object(s["createBlock"])(s["Fragment"],null,Object(s["renderList"])(S.hotKeys,(function(e){return Object(s["openBlock"])(),Object(s["createBlock"])("li",{class:"item",key:e.id,onClick:function(t){return S.addQuery(e.key)}},[Object(s["createVNode"])("span",null,Object(s["toDisplayString"])(e.key),1)],8,["onClick"])})),128))])]),Object(s["withDirectives"])(Object(s["createVNode"])("div",j,[Object(s["createVNode"])("h1",O,[h,Object(s["createVNode"])("span",{class:"clear",onClick:t[2]||(t[2]=function(){return S.showConfirm&&S.showConfirm.apply(S,arguments)})},[p])]),Object(s["createVNode"])(g,{ref:"confirmRef",text:"是否清空所有搜索历史","confirm-btn-text":"清空",onConfirm:S.clearSearch},null,8,["onConfirm"]),Object(s["createVNode"])(k,{searches:S.searchHistory,onSelect:S.addQuery,onDelete:S.deleteSearch},null,8,["searches","onSelect","onDelete"])],512),[[s["vShow"],S.searchHistory.length]])])]})),_:1},512),[[s["vShow"],!S.query]]),Object(s["withDirectives"])(Object(s["createVNode"])("div",v,[Object(s["createVNode"])(N,{query:S.query,onSelectSong:S.selectSong,onSelectSinger:S.selectSinger},null,8,["query","onSelectSong","onSelectSinger"])],512),[[s["vShow"],S.query]]),Object(s["createVNode"])(C,null,{default:u((function(e){var t=e.Component;return[Object(s["createVNode"])(s["Transition"],{appear:"",name:"slide"},{default:u((function(){return[(Object(s["openBlock"])(),Object(s["createBlock"])(Object(s["resolveDynamicComponent"])(t),{data:S.selectedSinger},null,8,["data"]))]})),_:2},1024)]})),_:1})])})),m=(c("96cf"),c("1da1")),w=c("70d8"),y=c("d296"),g=c("5502"),k=c("6c02"),V=c("335a"),N=c("aaef"),C=c("0d92"),x={name:"search",components:{Confirm:o["a"],Scroll:w["a"],SearchList:a["a"],SearchInput:l["a"],Suggest:r["a"]},setup:function(){var e=Object(s["ref"])(""),t=Object(s["ref"])([]),c=Object(s["ref"])(null),r=Object(s["ref"])(null),n=Object(s["ref"])(null),a=Object(g["e"])(),o=Object(s["computed"])((function(){return a.state.searchHistory})),l=Object(k["c"])(),u=Object(C["a"])(),i=u.saveSearch,d=u.deleteSearch,f=u.clearSearch;function b(){r.value.scroll.refresh()}function j(t){e.value=t}function O(t){i(e.value),a.dispatch("addSong",t)}function h(t){i(e.value),c.value=t,p(t),l.push({path:"/search/".concat(t.mid)})}function p(e){V["a"].session.set(N["f"],e)}function v(){n.value.show()}return Object(y["a"])().then((function(e){console.log(e),t.value=e.hotKeys})),Object(s["watch"])(e,function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,Object(s["nextTick"])();case 3:b();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{scrollRef:r,confirmRef:n,query:e,hotKeys:t,selectedSinger:c,searchHistory:o,addQuery:j,selectSong:O,selectSinger:h,showConfirm:v,deleteSearch:d,clearSearch:f}}},R=(c("94f1"),c("6b0d")),q=c.n(R);const B=q()(x,[["render",S],["__scopeId","data-v-1d8e7356"]]);t["default"]=B},"70d8":function(e,t,c){"use strict";c("96cf");var r=c("1da1"),n=c("7a23"),a=c("bba4"),o=c("5502");t["a"]={name:"wrap-scroll",props:a["a"].props,emits:a["a"].emits,render:function(e){return Object(n["h"])(a["a"],Object(n["mergeProps"])({ref:"scrollRef"},e.$props,{onScroll:function(t){e.$emit("scroll",t)}}),{default:Object(n["withCtx"])((function(){return[Object(n["renderSlot"])(e.$slots,"default")]}))})},setup:function(){var e=Object(n["ref"])(null),t=Object(n["computed"])((function(){return e.value.scroll})),c=Object(o["e"])(),a=Object(n["computed"])((function(){return c.state.playlist}));return Object(n["watch"])(a,Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["nextTick"])();case 2:t.value.refresh();case 3:case"end":return e.stop()}}),e)})))),{scrollRef:e,scroll:t}}}},"94f1":function(e,t,c){"use strict";c("4ce3")}}]);