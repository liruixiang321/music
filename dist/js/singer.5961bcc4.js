(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singer"],{"20d0":function(e,t,c){"use strict";c.r(t);var n=c("75e4"),r=(c("f48c"),c("bba4")),o=(c("b0c0"),c("7a23")),a=Object(o["withScopeId"])("data-v-6fd83bab");Object(o["pushScopeId"])("data-v-6fd83bab");var i={ref:"groupRef"},u={class:"title"},l={class:"avatar"},s={class:"name"},d={class:"fixed-title"};Object(o["popScopeId"])();var f=a((function(e,t,c,n,f,b){var p=r["a"],j=Object(o["resolveDirective"])("lazy");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{class:"index-list","probe-type":3,onScroll:n.onScroll,ref:"scrollRef"},{default:a((function(){return[Object(o["createVNode"])("ul",i,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(c.data,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:e.title,class:"group"},[Object(o["createVNode"])("h2",u,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.list,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:e.id,class:"item",onClick:function(t){return n.onItemClick(e)}},[Object(o["withDirectives"])(Object(o["createVNode"])("img",l,null,512),[[j,e.pic]]),Object(o["createVNode"])("span",s,Object(o["toDisplayString"])(e.name),1)],8,["onClick"])})),128))])])})),128))],512),Object(o["withDirectives"])(Object(o["createVNode"])("div",{class:"fixed",style:n.fixedStyle},[Object(o["createVNode"])("div",d,Object(o["toDisplayString"])(n.fixedTitle),1)],4),[[o["vShow"],n.fixedTitle]]),Object(o["createVNode"])("div",{class:"shortcut",onTouchstart:t[1]||(t[1]=Object(o["withModifiers"])((function(){return n.onShortcutTouchStart&&n.onShortcutTouchStart.apply(n,arguments)}),["stop","prevent"])),onTouchmove:t[2]||(t[2]=Object(o["withModifiers"])((function(){return n.onShortcutTouchMove&&n.onShortcutTouchMove.apply(n,arguments)}),["stop","prevent"])),onTouchend:t[3]||(t[3]=Object(o["withModifiers"])((function(){}),["stop","prevent"]))},[Object(o["createVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(n.shortcutList,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:e,"data-index":t,class:["item",{current:n.currentIndex===t}]},Object(o["toDisplayString"])(e),11,["data-index"])})),128))])],32)]})),_:1},8,["onScroll"])})),b=c("70d8"),p=(c("96cf"),c("1da1"));function j(e){var t=30,c=Object(o["ref"])(null),n=Object(o["ref"])([]),r=Object(o["ref"])(0),a=Object(o["ref"])(0),i=Object(o["ref"])(0),u=Object(o["computed"])((function(){if(r.value<0)return"";var t=e.data[a.value];return t?t.title:""})),l=Object(o["computed"])((function(){var e=i.value,c=e>0&&e<t?e-t:0;return{transform:"translate3d(0,".concat(c,"px,0)")}}));function s(){var e=c.value.children,t=n.value,r=0;t.length=0,t.push(r);for(var o=0;o<e.length;o++)r+=e[o].clientHeight,t.push(r)}function d(e){r.value=-e.y}return Object(o["watch"])((function(){return e.data}),Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["nextTick"])();case 2:s();case 3:case"end":return e.stop()}}),e)})))),Object(o["watch"])(r,(function(e){for(var t=n.value,c=0;c<t.length-1;c++){var r=t[c],o=t[c+1];e>=r&&e<=o&&(a.value=c,i.value=o-e)}})),{groupRef:c,onScroll:d,fixedTitle:u,fixedStyle:l,currentIndex:a}}c("d81d");function O(e,t){var c=18,n=Object(o["ref"])(null),r=Object(o["computed"])((function(){return e.data.map((function(e){return e.title}))})),a={};function i(e){var t=parseInt(e.target.dataset.index);a.y1=e.touches[0].pageY,a.anchorIndex=t,l(t)}function u(e){a.y2=e.touches[0].pageY;var t=(a.y2-a.y1)/c|0,n=a.anchorIndex+t;l(n)}function l(e){if(!isNaN(e)){e=Math.max(0,Math.min(r.value.length-1,e));var c=t.value.children[e],o=n.value.scroll;o.scrollToElement(c,0)}}return{shortcutList:r,scrollRef:n,onShortcutTouchStart:i,onShortcutTouchMove:u}}var h={name:"index-list",components:{Scroll:b["a"]},props:{data:{type:Array,default:function(){return[]}}},emits:["select"],setup:function(e,t){var c=t.emit,n=j(e),r=n.groupRef,o=n.onScroll,a=n.fixedTitle,i=n.fixedStyle,u=n.currentIndex,l=O(e,r),s=l.shortcutList,d=l.scrollRef,f=l.onShortcutTouchStart,b=l.onShortcutTouchMove;function p(e){c("select",e)}return{onItemClick:p,groupRef:r,onScroll:o,fixedTitle:a,fixedStyle:i,currentIndex:u,shortcutList:s,scrollRef:d,onShortcutTouchStart:f,onShortcutTouchMove:b}}},v=(c("9578"),c("6b0d")),m=c.n(v);const S=m()(h,[["render",f],["__scopeId","data-v-6fd83bab"]]);var g=S,x=Object(o["withScopeId"])("data-v-6d5a87a0");Object(o["pushScopeId"])("data-v-6d5a87a0");var k={class:"singer"};Object(o["popScopeId"])();var w=x((function(e,t,c,r,a,i){var u=g,l=Object(o["resolveComponent"])("router-view"),s=n["a"];return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",k,[Object(o["createVNode"])(u,{data:a.singers,onSelect:i.selectSinger},null,8,["data","onSelect"]),Object(o["createVNode"])(l,null,{default:x((function(e){var t=e.Component;return[Object(o["createVNode"])(o["Transition"],{appear:"",name:"slide"},{default:x((function(){return[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(t),{data:a.selectedSinger},null,8,["data"]))]})),_:2},1024)]})),_:1})],512)),[[s,!a.singers.length]])})),y=c("ae58"),T=c("335a"),B=c("aaef"),I={name:"singer",components:{IndexList:g},data:function(){return{singers:[],selectedSinger:null}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["b"])();case 2:c=t.sent,e.singers=c.singers;case 4:case"end":return t.stop()}}),t)})))()},methods:{selectSinger:function(e){this.selectedSinger=e,this.cacheSinger(e),this.$router.push({path:"/singer/".concat(e.mid)})},cacheSinger:function(e){T["a"].session.set(B["f"],e)}}};c("c3e1");const R=m()(I,[["render",w],["__scopeId","data-v-6d5a87a0"]]);t["default"]=R},"5cc7":function(e,t,c){},"70d8":function(e,t,c){"use strict";c("96cf");var n=c("1da1"),r=c("7a23"),o=c("bba4"),a=c("5502");t["a"]={name:"wrap-scroll",props:o["a"].props,emits:o["a"].emits,render:function(e){return Object(r["h"])(o["a"],Object(r["mergeProps"])({ref:"scrollRef"},e.$props,{onScroll:function(t){e.$emit("scroll",t)}}),{default:Object(r["withCtx"])((function(){return[Object(r["renderSlot"])(e.$slots,"default")]}))})},setup:function(){var e=Object(r["ref"])(null),t=Object(r["computed"])((function(){return e.value.scroll})),c=Object(a["e"])(),o=Object(r["computed"])((function(){return c.state.playlist}));return Object(r["watch"])(o,Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["nextTick"])();case 2:t.value.refresh();case 3:case"end":return e.stop()}}),e)})))),{scrollRef:e,scroll:t}}}},9578:function(e,t,c){"use strict";c("e0d6")},ae58:function(e,t,c){"use strict";c.d(t,"b",(function(){return r})),c.d(t,"a",(function(){return o}));var n=c("58ff");function r(){return Object(n["a"])("/api/getSingerList")}function o(e){return Object(n["a"])("/api/getSingerDetail",{mid:e.mid})}},c3e1:function(e,t,c){"use strict";c("5cc7")},e0d6:function(e,t,c){}}]);